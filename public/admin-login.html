<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><title>Visa Global â€” Admin Login</title><link rel="stylesheet" href="/app.css"></head>
<body><div class="shell">
<div class="topbar"><div class="brand"><div class="logo" aria-hidden="true"></div><a href="/" style="color:inherit;text-decoration:none" data-i18n="appName">Visa Global</a></div>
<div class="lang"><select data-lang-select aria-label="Language"><option value="en">English</option><option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option><option value="de">Deutsch</option><option value="fr">FranÃ§ais</option></select></div></div>
<div class="page"><div class="container"><div class="card" style="max-width:520px;margin:0 auto">
<h1 class="h1" data-i18n="adminLogin">Admin Login</h1><div class="hr"></div>
<div class="grid2"><div class="field"><label data-i18n="username">Username</label><input class="input" id="username" type="text" autocomplete="username"></div>
<div class="field"><label data-i18n="password">Password</label><input class="input" id="password" type="password" autocomplete="current-password"></div></div>
<div class="actions"><button class="btn" id="btnLogin">ğŸ”‘ <span data-i18n="signIn">Sign in</span></button><a class="btn secondary" href="/">â†© <span data-i18n="backBtn">Back</span></a></div>
<div id="msg" class="notice" style="display:none; margin-top:14px"></div>
</div></div></div>
<div class="footer"><span data-i18n="footer">Â© Visa Global. All rights reserved.</span></div></div>
<script src="/i18n.js"></script><script>
const sel=document.querySelector("[data-lang-select]"); if(sel) sel.addEventListener("change",e=>{setLang(e.target.value);applyI18n();}); applyI18n();
function show(t){const m=document.getElementById("msg"); m.style.display="block"; m.textContent=t;} function hide(){const m=document.getElementById("msg"); m.style.display="none"; m.textContent="";}
async function login(){hide(); const u=document.getElementById("username").value.trim(); const p=document.getElementById("password").value; if(!u||!p){show("Missing credentials."); return;}
try{const r=await fetch("/api/admin/login",{method:"POST",headers:{ "Content-Type":"application/json" },credentials:"include",body:JSON.stringify({username:u,password:p})});
const data=await r.json().catch(()=>({ok:false,message:"Server error."})); if(!r.ok||!data.ok){show(data.message||"Invalid login."); return;} window.location.href="/admin";}
catch(e){show("Server error.");}}
document.getElementById("btnLogin").addEventListener("click",login); document.getElementById("password").addEventListener("keydown",e=>{if(e.key==="Enter")login();});
</script></body></html>
